# 布尔量 与 条件表达式

## 布尔量

**布尔量(Boolean)** 是一种表示真与假的数据。

布尔量有唯一的两个值：T(真) 和 F(假) 。

布尔量常被用来判断条件是否成立，并用于条件表达式中。

```
(= 5 5) ; T

(let a 6)
(= a 5) ; F
```

布尔量主要有如下运算：

```
(not a)   ; 非运算
(and a b) ; 与运算
(or a b)  ; 或运算
(xor a b) ; 异或运算
```

not 函数 会返回 相对立的布尔值。T返回F，F返回T。

除not外，各函数求值如下：

|a|b|and|or|xor|
|---|---|---|---|---|
|F|F|F|F|F|
|F|T|F|T|T|
|T|F|F|T|T|
|T|T|T|T|F|

如上运算 与、或、异或 适用于布尔量的。
还有适用于 定长整数 的同名位运算，将在位运算相关内容中提及。

## 条件表达式

条件表达式是一种按照特殊顺序求值的表达式。

### ? 表达式

```
(? 布尔值 子式1)
(? 布尔值 子式1 子式2)
```

当 布尔值 为 T 的时候，整个 if 表达式 的值为 子式1 的值；否则，为 子式2 的值。

如果 子式2 不存在，且 布尔值 为 F，则 if 表达式 的值 为 nil。

? 表达式各子式是惰性求值的。即，如果有如下式子：

```
(? T (print "T") (print "F"))
```

```print``` 会打印其作为参数的字符串。 该函数的调用是影响环境的。

因为 布尔值 为 T，则 只计算 ```(print "T")``` 。
因此 ```(print "F")``` 对环境的影响不会发生，即不会打印 字符串 "F"。

? 表达式的 子式1 与 子式2 均为一个表达式。
当想要使用多条表达式的时候，使用 do 表达式 将它们组合为一条表达式。
如：

```
(? (do (print "1") 5) (do (print "2") 6))
```

### if 表达式

```
(if 布尔值1 子式1
 elsif 布尔值2 子式2
 elsif 布尔值3 子式3
 ...
 else 子式n
)
```

按照顺序求布尔值，直到找到布尔值为T的分支，则整个表达式的值为该分支对应子式的值。
如果所有if/elsif分支都不成立，则表达式的值为else分支的子式的值。

if 表达式 的 各个子式 的数目是任意的。不同分支之间使用关键词 else/elsif 区分。

子式必须存在。当表达空子式的时候，使用 ```(do)``` 或 ```nil``` 来表示空的语义。

elsif 分支可以有任意多个。

else 分支可省略。省略后默认该分支为 nil。

如同 ? 表达式，if 表达式 各子式也是惰性求值的。
